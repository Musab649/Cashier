<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>نظام كاشير المسالخ</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- شاشة البداية -->
<div id="splash" class="section active">
  <h1 class="blinking">مرحباً بكم في نظام إدارة الفواتير بمسالخ الظفرة</h1>
</div>

<!-- تسجيل الدخول -->
<div id="login" class="section">
  <h2>تسجيل الدخول</h2>
  <label>🔑 الرقم الوظيفي:</label><br/>
  <input type="text" id="employeeId" placeholder="أدخل الرقم الوظيفي"><br/>
  <button onclick="login()">✅ دخول</button>
  <button onclick="exitProgram()">❌ إلغاء</button>
</div>

<!-- لوحة التحكم -->
<div id="dashboard" class="section">
  <h2>👋 مرحباً <span id="username"></span></h2>
  <button onclick="showSection('manageUsers')">👥 إدارة المستخدمين</button>
  <button onclick="showSection('settings')">⚙️ الإعدادات</button>
  <button onclick="openDataEntry()">📝 إدخال البيانات</button>
  <button onclick="showSection('report')">📑 تقرير المتعاملين</button>
  <button onclick="logout()">🚪 تسجيل خروج</button>
</div>

<!-- إدارة المستخدمين -->
<div id="manageUsers" class="section">
  <h2>👥 إدارة المستخدمين</h2>
  <input type="text" id="newUserId" placeholder="رقم وظيفي" />
  <input type="text" id="newUserName" placeholder="اسم المستخدم" />
  <select id="newUserRole">
    <option value="admin">مسؤول</option>
    <option value="user">مستخدم</option>
  </select>
  <input type="text" id="newUserSite" placeholder="الموقع" />
  <button onclick="addUser()">➕ إضافة</button>

  <table>
    <thead>
      <tr><th>رقم وظيفي</th><th>اسم</th><th>دور</th><th>موقع</th></tr>
    </thead>
    <tbody id="usersTable"></tbody>
  </table>

  <button onclick="showSection('dashboard')">🔙 رجوع</button>
</div>

<!-- الإعدادات -->
<div id="settings" class="section">
  <h2>⚙️ الإعدادات</h2>

  <h3>➕ إضافة موقع</h3>
  <input type="text" id="newSite" placeholder="موقع جديد" />
  <button onclick="addSite()">➕</button>

  <h3>➕ إضافة نوع ذبيحة</h3>
  <input type="text" id="newAnimal" placeholder="نوع ذبيحة" />
  <button onclick="addAnimal()">➕</button>

  <h3>➕ إضافة نوع تقطيع</h3>
  <input type="text" id="newCutting" placeholder="نوع تقطيع" />
  <button onclick="addCutting()">➕</button>

  <h3>💲 تعيين سعر</h3>
  <label>ذبيحة:</label>
  <select id="priceAnimal"></select>
  <label>تقطيع:</label>
  <select id="priceCutting"></select>
  <input type="number" id="priceValue" placeholder="السعر" />
  <button onclick="setPrice()">✔️</button>

  <button onclick="showSection('dashboard')">🔙 رجوع</button>
</div>

<!-- إدخال البيانات -->
<div id="dataEntry" class="section">
  <h2 id="entrySite"></h2>

  <label>رقم الفاتورة:</label>
  <input type="text" id="invoiceNumber" readonly><br/>

  <label>📞 رقم الهاتف:</label>
  <input type="text" id="phone" onblur="lookupClient()"><br/>
  <label>👤 اسم المتعامل:</label>
  <input type="text" id="clientName"><br/>

  <label>🐑 نوع الذبيحة:</label>
  <select id="animalType" onchange="updatePrice()"></select><br/>
  <label>🔪 نوع التقطيع:</label>
  <select id="cuttingType" onchange="updatePrice()"></select><br/>
  <label>🔢 العدد:</label>
  <select id="quantity" onchange="updatePrice()">
    <option>1</option><option>2</option><option>3</option>
  </select><br/>

  <label>💲 سعر الوحدة:</label>
  <input type="number" id="unitPrice" readonly><br/>
  <label>💰 الإجمالي:</label>
  <input type="number" id="totalPrice" readonly><br/>

  <button onclick="saveData()">💾 إضافة</button>
  <button onclick="showSection('dashboard')">🏠 القائمة الرئيسية</button>
</div>

<!-- تقرير المتعاملين -->
<div id="report" class="section">
  <h2>📑 تقرير المتعاملين</h2>
  <table>
    <thead>
      <tr><th>موقع</th><th>اسم</th><th>رقم</th><th>فاتورة</th><th>عدد</th><th>إجمالي</th></tr>
    </thead>
    <tbody id="reportTable"></tbody>
  </table>
  <button onclick="showSection('dashboard')">🔙 رجوع</button>
</div>

<script src="script.js"></script>
</body>
</html>
